<!DOCTYPE html><HTML lang="en"><head><script charset="utf-8" src="../../../assets/default/multidoc_injector.js" type="text/javascript"></script><script charset="utf-8" type="text/javascript">window.MULTIDOCUMENTER_ROOT_PATH = '/'</script><script charset="utf-8" src="../../../assets/default/flexsearch.bundle.js" type="text/javascript"></script><script charset="utf-8" src="../../../assets/default/flexsearch_integration.js" type="text/javascript"></script><meta charset="UTF-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>Contribution Guide · Piccolo.jl</title><meta content="Contribution Guide · Piccolo.jl" name="title"/><meta content="Contribution Guide · Piccolo.jl" property="og:title"/><meta content="Contribution Guide · Piccolo.jl" property="twitter:title"/><meta content="Documentation for Piccolo.jl." name="description"/><meta content="Documentation for Piccolo.jl." property="og:description"/><meta content="Documentation for Piccolo.jl." property="twitter:description"/><meta content="https://docs.harmoniqs.co/Piccolo.jl/contribution_guide/" property="og:url"/><meta content="https://docs.harmoniqs.co/Piccolo.jl/contribution_guide/" property="twitter:url"/><link href="https://docs.harmoniqs.co/Piccolo/dev/contribution_guide/" rel="canonical"/><script data-outdated-warner="" src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script data-main="../assets/documenter.js" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" data-theme-name="catppuccin-mocha" href="../assets/themes/catppuccin-mocha.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="catppuccin-macchiato" href="../assets/themes/catppuccin-macchiato.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="catppuccin-frappe" href="../assets/themes/catppuccin-frappe.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="catppuccin-latte" href="../assets/themes/catppuccin-latte.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-dark" data-theme-primary-dark="" href="../assets/themes/documenter-dark.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-light" data-theme-primary="" href="../assets/themes/documenter-light.css" rel="stylesheet" type="text/css"/><script src="../assets/themeswap.js"></script><link href="../../../assets/default/multidoc.css" rel="stylesheet" type="text/css"/><link href="../../../assets/default/flexsearch.css" rel="stylesheet" type="text/css"/></head><body><nav id="multi-page-nav"><div class="hidden-on-mobile" id="nav-items"><a class="nav-link active nav-item" href="../../">Piccolo</a><a class="nav-link nav-item" href="../../../PiccoloQuantumObjects/">Quantum Objects</a><div class="nav-dropdown"><button class="nav-item dropdown-label">Optimal Controls</button><ul class="nav-dropdown-container"><a class="nav-link nav-item" href="../../../QuantumCollocation/">QuantumCollocation.jl</a><a class="nav-link nav-item" href="../../../QuantumCollocationCore/">QuantumCollocationCore.jl</a></ul></div><div class="nav-dropdown"><button class="nav-item dropdown-label">Trajectories</button><ul class="nav-dropdown-container"><a class="nav-link nav-item" href="../../../NamedTrajectories/">NamedTrajectories.jl</a><a class="nav-link nav-item" href="../../../TrajectoryIndexingUtils/">TrajectoryIndexingUtils.jl</a></ul></div><a class="nav-link nav-item" href="../../../PiccoloPlots/">Plots</a><div class="search nav-item"><input id="search-input" placeholder="Search everywhere..."/><ul class="suggestions hidden" id="search-result-container"></ul><div class="search-keybinding">/</div></div></div><button id="multidoc-toggler"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg></button></nav><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Piccolo.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../generated/quickstart/">Quickstart</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../generated/multilevel_transmon/">Multilevel Transmon</a></li></ul></li><li class="is-active"><a class="tocitem" href="">Contribution Guide</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#Developing"><span>Developing</span></a></li></ul></li><li><a class="tocitem" href="../release_notes/">Release Notes</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" href="#" id="documenter-sidebar-button"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="">Contribution Guide</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="">Contribution Guide</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/harmoniqs/Piccolo.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/harmoniqs/Piccolo.jl/blob/main/docs/src/contribution_guide.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" href="#" id="documenter-settings-button" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" href="javascript:;" id="documenter-article-toggle-button" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Contribution-Guide"><a class="docs-heading-anchor" href="#Contribution-Guide">Contribution Guide</a><a id="Contribution-Guide-1"></a><a class="docs-heading-anchor-permalink" href="#Contribution-Guide" title="Permalink"></a></h1><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>We welcome contributiuons to Piccolo.jl! This document outlines the guidelines for contributing to the project. If you know what you want to see, but are unsure of the best way to achieve it, add an issue on the relevant repository <a href="https://github.com/harmoniqs/QuantumCollocation.jl/issues">(like QuantumCollocation.jl)</a> and start a discussion with the community! </p><h3 id="Tips-for-Visual-Studio-Code"><a class="docs-heading-anchor" href="#Tips-for-Visual-Studio-Code">Tips for Visual Studio Code</a><a id="Tips-for-Visual-Studio-Code-1"></a><a class="docs-heading-anchor-permalink" href="#Tips-for-Visual-Studio-Code" title="Permalink"></a></h3><p><strong>Julia extension</strong> You can run Julia notebooks and much more with <a href="https://code.visualstudio.com/docs/languages/julia">the Julia extension</a>. Upon opening your project folder in VS code and attempting to run an <code>.ipynb</code>, you will see that VS Code finds the interpreters managed by juliaup and defaults to using the environment based on the <em>Project.toml</em> in the project directory.</p><p><strong>Fonts</strong> VS Code will not display all characters allowed by Julia. You can change the editor font family in the settings to <code>'JuliaMono'</code> to get full support. If you don't want to mix and mash, you can create a new VS Code settings profile for working in Julia at <em>File&gt;Preferences&gt;Profile</em>.</p><p><strong>Tests</strong> Tests should automatically populate in VS Code when working with a Piccolo package. For example, just by adding the <code>QuantumCollocation.jl</code> folder to your workspace, you should see tests appear if you click on the <em>Testing</em> sidebar icon. If you run one of these tests, a new Julia kernel is spawned for the test. You can find the kernel if you click on the <em>Julia</em> sidebar icon (after installing the Julia extensions). Sometimes, for the tests to recognize new changes, you may need to manually kill this kernel to see your changes reflected.</p><h2 id="Developing"><a class="docs-heading-anchor" href="#Developing">Developing</a><a id="Developing-1"></a><a class="docs-heading-anchor-permalink" href="#Developing" title="Permalink"></a></h2><p><strong>Install Julia</strong><a href="https://github.com/JuliaLang/juliaup">Juliaup</a> is an installer and version manager. This is one useful way to manage Julia versions and keep up with the latest changes. After installing, run <code>julia</code> to obtain the Julia <em>REPL</em>.</p><p><strong>Julia environments</strong><a href="https://pkgdocs.julialang.org/v1/environments/#Using-someone-else&#39;s-project">(Documentation)</a> Your project's environment is stored in <em>Project.toml</em>. You can interactively add packages to an environment by using the Julia command line <em>REPL</em> and <em>package manager</em>.  Start Julia in the project folder. Type <code>]</code> to enter the package manager. Type <code>activate .</code> to activate or create an environment specified by <em>Project.toml</em> located in the current folder. Separately, you generate a manifest (solving the versions to create a valid environment) by running <code>instantiate</code>; instantiate will check that the environment is correct after you add all the packages you want.</p><p><strong>Adding packages</strong><a href="https://pkgdocs.julialang.org/v1/managing-packages/#Adding-packages">(Documentation)</a> The initial cell for a Piccolo notebook might look something like the following:</p><pre><code class="language-Julia hljs"># Standard packages
using LinearAlgebra
using CairoMakie

# Piccolo
using Piccolo</code></pre><p>First off are the standard packages (these are like Numpy and Matplotlib). Open the package manager in the current environment (type <code>julia</code>, <code>]</code>, and <code>activate .</code>), type <code>add LinearAlgebra</code> to install and precompile <em>LinearAlgebra</em>. Same with <code>CairoMakie</code>. Second, let's install <em>Piccolo</em>. We do <code>add Piccolo</code> to get the entire ecosystem as a bundle from the Julia repository.</p><p>Sometimes you will want to develop individual Piccolo packages, so our header might look like</p><pre><code class="language-Julia hljs"># Standard packages
using LinearAlgebra
using CairoMakie

# Piccolo packages
using QuantumCollocation
using NamedTrajectories</code></pre><p>These are two packages (<em>QuantumCollocation</em>, <em>NamedTrajetories</em>) inside <a href="https://docs.juliahub.com/General/Piccolo/stable/">Piccolo</a>. </p><p>As a developer, we want to use the git repositories directly from <a href="https://github.com/harmoniqs">the harmoniqs Quantum Github page</a>. Clone, then add the local packages to the Project file with e.g. <code>dev ../relative/path/to/repo/QuantumCollocation</code>. This command installs the development version of <em>QuantumCollocation</em> pointing to the local Github code instead of the package repository. You can repeat this for the others, also.</p><p><strong>Revise</strong><a href="https://timholy.github.io/Revise.jl/stable/">Revise.jl</a> will let you edit source code, update packages, and reload the changes in a notebook–-automatically! This is a great tool for development. <code>add Revise</code> from the REPL and then include it before any packages you intend to edit:</p><pre><code class="language-Julia hljs">using Revise
using QuantumCollocation</code></pre><h3 id="Documentation"><a class="docs-heading-anchor" href="#Documentation">Documentation</a><a id="Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Documentation" title="Permalink"></a></h3><p>Documentation is built using <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and uses <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a> to generate markdown files from scripts stored in <em>docs/literate</em>. To build the documentation locally, start Julia with the docs environment:</p><pre><code class="language-bash hljs">julia --project=docs</code></pre><p>Then (for ease of development) load the following packages:</p><pre><code class="language-julia hljs">using Revise, LiveServer, QuantumCollocation</code></pre><p>To <a href="https://juliadocs.org/LiveServer.jl/dev/lib/public/">live-serve</a> the docs, run</p><pre><code class="language-julia hljs">servedocs(literate_dir="docs/literate", skip_dir="docs/src/generated")</code></pre><p>The extra arguments prevent an infinite loop caused by the generated Literate files. If the <code>index.md</code> is also dynamically generated from the <code>README.md</code>, run</p><pre><code class="language-julia hljs">servedocs(literate_dir="docs/literate", skip_dir="docs/src/generated", skip_files=["docs/src/index.md"])</code></pre><p>Changes made to files in the docs directory should be automatically reflected in the live server. To reflect changes in the source code (e.g. doc strings), since we are using Revise, simply kill the live server running in the REPL (with, e.g., Ctrl-C) and restart it with the above command. </p><h3 id="Writing-tests"><a class="docs-heading-anchor" href="#Writing-tests">Writing tests</a><a id="Writing-tests-1"></a><a class="docs-heading-anchor-permalink" href="#Writing-tests" title="Permalink"></a></h3><p>Tests are implemented using the <a href="https://www.julia-vscode.org/docs/stable/userguide/testitems/"><code>TestItems.jl</code></a> package. </p><pre><code class="language-Julia hljs">@testitem "Hadamard gate" begin
    H_drift, H_drives = GATES[:Z], [GATES[:X], GATES[:Y]]
    U_goal = GATES[:H]
    T = 51
    Δt = 0.2

    prob = UnitarySmoothPulseProblem(
        H_drift, H_drives, U_goal, T, Δt,
        ipopt_options=IpoptOptions(print_level=1)
    )

    solve!(prob, max_iter=100)
    @test unitary_rollout_fidelity(prob) &gt; 0.99
end</code></pre><p>Individual tests will populate in the Testing panel in VSCode. All tests are integrated into the base test system for CI, which occurs at each PR submission.</p><p>Tests should be included in the same file as the code they test, so <em>problem</em>templates/unitary<em>smooth</em>pulse<em>problem.jl</em> contains the test items for <code>UnitarySmoothPulseProblem</code>.</p><h3 id="Reporting-Issues"><a class="docs-heading-anchor" href="#Reporting-Issues">Reporting Issues</a><a id="Reporting-Issues-1"></a><a class="docs-heading-anchor-permalink" href="#Reporting-Issues" title="Permalink"></a></h3><p>Issue templates are available on GitHub. We are happy to take feature requests!</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../generated/multilevel_transmon/">« Multilevel Transmon</a><a class="docs-footer-nextpage" href="../release_notes/">Release Notes »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label></p><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div><p></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.1 on <span class="colophon-date" title="Friday 28 February 2025 09:03">Friday 28 February 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></HTML>